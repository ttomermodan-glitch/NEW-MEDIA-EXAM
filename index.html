<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>××©×—×§ ××•×©×’×™× - ×’×œ×’×œ ×”×–×™×¨×•×ª</title>

  <style>
    * {
      box-sizing: border-box;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      -webkit-tap-highlight-color: transparent;
    }

    body {
      margin: 0;
      min-height: 100vh;
      background: radial-gradient(circle at top, #202a3b 0, #050814 55%, #000000 100%);
      color: #f5f5f5;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px;
    }

    .app {
      width: 100%;
      max-width: 980px;
      background: rgba(5, 8, 20, 0.95);
      border-radius: 24px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.7);
      padding: 18px 18px 20px;
      position: relative;
      overflow: hidden;
    }

    .app::before {
      content: "";
      position: absolute;
      inset: -40%;
      background:
        radial-gradient(circle at top left, rgba(59, 130, 246, 0.18), transparent 60%),
        radial-gradient(circle at bottom right, rgba(147, 51, 234, 0.2), transparent 55%);
      opacity: 0.9;
      pointer-events: none;
    }

    .content {
      position: relative;
      z-index: 1;
      display: grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 1.4fr);
      gap: 16px;
    }

    @media (max-width: 820px) {
      .content {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .section {
      background: rgba(15, 23, 42, 0.92);
      border-radius: 18px;
      padding: 14px 14px 16px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      position: relative;
      overflow: hidden;
    }

    .section-title {
      margin: 0 0 6px;
      font-size: 1.05rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
    }

    .badge {
      padding: 2px 8px;
      border-radius: 999px;
      font-size: 0.75rem;
      background: rgba(37, 99, 235, 0.2);
      border: 1px solid rgba(59, 130, 246, 0.6);
      color: #bfdbfe;
      white-space: nowrap;
    }

    .row {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-top: 6px;
      flex-wrap: wrap;
    }

    select,
    textarea,
    input[type="text"] {
      width: 100%;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      background: rgba(15, 23, 42, 0.9);
      color: #e5e7eb;
      padding: 8px 12px;
      font-size: 0.9rem;
      outline: none;
    }

    select:focus,
    textarea:focus,
    input[type="text"]:focus {
      border-color: #3b82f6;
      box-shadow: 0 0 0 1px rgba(59, 130, 246, 0.4);
    }

    textarea {
      border-radius: 12px;
      resize: vertical;
      min-height: 90px;
      max-height: 200px;
      line-height: 1.4;
    }

    .btn {
      border: none;
      border-radius: 999px;
      padding: 9px 14px;
      font-size: 0.9rem;
      cursor: pointer;
      background: linear-gradient(135deg, #3b82f6, #8b5cf6);
      color: white;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      transition: transform 0.15s ease, box-shadow 0.15s ease, opacity 0.15s ease;
      white-space: nowrap;
    }

    .btn.small {
      padding: 6px 10px;
      font-size: 0.8rem;
    }

    .btn.secondary {
      background: rgba(148, 163, 184, 0.12);
      color: #e5e7eb;
      border: 1px solid rgba(148, 163, 184, 0.6);
      font-weight: 500;
    }

    .btn.ghost {
      background: transparent;
      border: 1px dashed rgba(148, 163, 184, 0.5);
      color: #9ca3af;
      font-weight: 400;
    }

    .btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 10px 30px rgba(15, 23, 42, 0.7);
      opacity: 0.96;
    }

    .btn:active {
      transform: none;
      box-shadow: none;
      opacity: 0.9;
    }

    .pill {
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 0.8rem;
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(148, 163, 184, 0.6);
      color: #e5e7eb;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      white-space: nowrap;
    }

    .pill strong {
      font-weight: 600;
    }

    .stats-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 8px;
    }

    .stat-card {
      flex: 1;
      min-width: 130px;
      padding: 8px 10px;
      border-radius: 12px;
      background: rgba(15, 23, 42, 0.96);
      border: 1px solid rgba(148, 163, 184, 0.5);
      font-size: 0.8rem;
    }

    .stat-label {
      color: #9ca3af;
      margin-bottom: 2px;
    }

    .stat-value {
      font-weight: 600;
      font-size: 0.95rem;
    }

    .concept-display {
      margin-top: 12px;
      padding: 10px 12px;
      border-radius: 14px;
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(55, 65, 81, 0.9);
      font-size: 0.92rem;
    }

    .concept-code {
      font-size: 1.4rem;
      font-weight: 700;
      letter-spacing: 0.04em;
    }

    .concept-meta {
      margin-top: 4px;
      font-size: 0.8rem;
      color: #9ca3af;
    }

    .feedback {
      margin-top: 8px;
      font-size: 0.85rem;
      border-radius: 12px;
      padding: 8px 10px;
      line-height: 1.4;
      display: none;
    }

    .feedback.ok {
      background: rgba(22, 163, 74, 0.1);
      border: 1px solid rgba(34, 197, 94, 0.8);
      color: #bbf7d0;
    }

    .feedback.partial {
      background: rgba(234, 179, 8, 0.09);
      border: 1px solid rgba(234, 179, 8, 0.9);
      color: #facc15;
    }

    .feedback.error {
      background: rgba(239, 68, 68, 0.1);
      border: 1px solid rgba(239, 68, 68, 0.9);
      color: #fecaca;
    }

    .chip-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 6px;
    }

    .chip {
      padding: 3px 9px;
      border-radius: 999px;
      font-size: 0.75rem;
      border: 1px solid rgba(148, 163, 184, 0.7);
      background: rgba(15, 23, 42, 0.95);
      color: #e5e7eb;
      cursor: pointer;
      white-space: nowrap;
    }

    .chip.active {
      background: rgba(59, 130, 246, 0.2);
      border-color: rgba(59, 130, 246, 0.9);
      color: #dbeafe;
    }

    .top-bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      margin-bottom: 4px;
    }

    .top-left {
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }

    .back-link {
      text-decoration: none;
    }

    .note {
      margin-top: 6px;
      font-size: 0.75rem;
      color: #9ca3af;
    }

    .small-label {
      font-size: 0.8rem;
      color: #9ca3af;
      margin-top: 10px;
      margin-bottom: 4px;
    }

    .shortcut-row {
      margin-top: 6px;
      font-size: 0.8rem;
      color: #9ca3af;
    }

    .shortcut-row code {
      font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      background: rgba(15, 23, 42, 0.9);
      padding: 3px 6px;
      border-radius: 8px;
      font-size: 0.75rem;
    }

    .prompt-box {
      margin-top: 8px;
      padding: 6px 8px;
      border-radius: 10px;
      background: rgba(15, 23, 42, 0.95);
      border: 1px dashed rgba(148, 163, 184, 0.7);
      font-size: 0.75rem;
      color: #cbd5f5;
    }

    .prompt-box code {
      margin-top: 4px;
      display: block;
      white-space: pre;
      direction: ltr;
      text-align: left;
      overflow-x: auto;
    }
  </style>
</head>
<body>
  <div class="app">
    <div class="content">
      <!-- ×¦×“ ×©×××œ - ×’×œ×’×œ, ×–×™×¨×”, ×¡×˜×˜×•×¡ -->
      <section class="section">
        <div class="top-bar">
          <div class="top-left">
            <a href="index.html" class="back-link">
              <button class="btn ghost small" type="button">â¬… ××¡×š ×”×‘×™×ª</button>
            </a>
            <div class="pill">
              ××¦×‘ ×œ×™××•×“  
              <span id="modeLabel">×§×•×“×™× ×œ×–×›×™×¨×”</span>
            </div>
          </div>
          <span class="badge">×–×™×¨×•×ª 1,2,3,4,5,9</span>
        </div>

        <div class="row" style="margin-top: 10px;">
          <label for="zoneSelect" style="font-size: 0.85rem; color: #d1d5db;">×‘×—×™×¨×ª ×–×™×¨×” ×œ××©×—×§</label>
          <select id="zoneSelect">
            <option value="all">×›×œ ×”×–×™×¨×•×ª ×™×—×“</option>
            <option value="1">×–×™×¨×” 1 - ×™×¡×•×“×•×ª ×ª×§×©×•×¨×ª</option>
            <option value="2">×–×™×¨×” 2 - ×’×œ×•×‘×œ×™×–×¦×™×”</option>
            <option value="3">×–×™×¨×” 3 - ×”×¦×’×ª ×”××¦×™××•×ª</option>
            <option value="4">×–×™×¨×” 4 - ×”×•××•×¨ ×•×¡××˜×™×¨×”</option>
            <option value="5">×–×™×¨×” 5 - ×ª×¨×‘×•×ª ×“×™×’×™×˜×œ×™×ª</option>
            <option value="9">×–×™×¨×” 9 - ×¤×¨×¡×•× ×•×¦×¨×›× ×•×ª</option>
          </select>
        </div>

        <div class="row">
          <button class="btn" type="button" id="spinButton">
            ğŸ¯ ×¡×™×‘×•×‘ ×’×œ×’×œ ×•×”×’×¨×œ×ª ×§×•×“
          </button>
          <button class="btn secondary" type="button" id="skipButton">
            ×“×œ×’ ×¢×œ ××•×©×’
          </button>
        </div>

        <div class="stats-row">
          <div class="stat-card">
            <div class="stat-label">×§×•×“ × ×•×›×—×™</div>
            <div class="stat-value" id="currentCodeLabel">-</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">×–×™×¨×” × ×•×›×—×™×ª</div>
            <div class="stat-value" id="currentZoneLabel">-</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">×©××œ×•×ª ×©× ×¢× ×•</div>
            <div class="stat-value" id="questionsCount">0</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">MASTERED</div>
            <div class="stat-value" id="masteredCount">0</div>
          </div>
        </div>

        <div class="concept-display" id="conceptBox">
          <div class="concept-code" id="conceptCode">×œ×—×¥ ×¢×œ "×¡×™×‘×•×‘ ×’×œ×’×œ"</div>
          <div class="concept-meta" id="conceptMeta">
            ×”××¢×¨×›×ª ×ª×’×¨×™×œ ×§×•×“ ××ª×•×š ×”×–×™×¨×” ×©× ×‘×—×¨×” ×•×ª×¦×™×’ ×›××Ÿ.
          </div>
        </div>

        <div class="small-label">××¤×©×¨×•×ª ×¡×™××•×Ÿ ××”×™×¨ ××—×¨×™ ×©×‘×“×§×ª ×‘×¦××˜</div>
        <div class="chip-row">
          <button class="chip" type="button" data-result="correct" id="markCorrect">
            âœ… × ×›×•×Ÿ ×œ×’××¨×™
          </button>
          <button class="chip" type="button" data-result="partial" id="markPartial">
            âš  × ×›×•×Ÿ ×—×œ×§×™×ª
          </button>
          <button class="chip" type="button" data-result="wrong" id="markWrong">
            âŒ ×˜×¢×•×ª
          </button>
        </div>

        <p class="note">
          ×”×›×¤×ª×•×¨×™× ×”××œ×” ×¨×§ ××¢×“×›× ×™× × ×§×•×“×•×ª ×•×¡×˜×˜×•×¡ MASTERED.  
          ××ª ×”× ×™×¡×•×— ×¢×¦××• ××ª×” ×‘×•×“×§ ×‘×¦××˜ ×œ×¤×™ ×”×¤×•×¨××˜ ×œ××˜×”.
        </p>
      </section>

      <!-- ×¦×“ ×™××™×Ÿ - ×ª×©×•×‘×”, ××©×•×‘, ×¦××˜ ×¤×•×¨××˜ -->
      <section class="section">
        <h2 class="section-title">
          × ×™×¡×•×— ×”××•×©×’ ×‘××™×œ×™× ×©×œ×š
          <span class="badge">××ª××™× ×œ×¦××˜</span>
        </h2>

        <div class="small-label">×›×ª×•×‘ ×›××Ÿ ××ª ×”×ª×™××•×¨ ×©×œ×š ×œ××•×©×’</div>
        <textarea
          id="answerInput"
          placeholder="×œ×“×•×’××”: ×ª×”×œ×™×š ×©×‘×• ××“× ×œ×•××“ ×•××¤× ×™× ××ª ×”× ×•×¨××•×ª, ×”×¢×¨×›×™× ×•×”×”×ª× ×”×’×•×ª ×©×œ ×”×—×‘×¨×” ×©×‘×” ×”×•× ×—×™..."
        ></textarea>

        <div class="row" style="margin-top: 8px;">
          <button class="btn" type="button" id="submitAnswer">
            ×©××•×¨ × ×™×¡×•×— ×œ××•×©×’ ×”×–×”
          </button>
          <button class="btn secondary" type="button" id="clearAnswer">
            × ×§×” ×©×“×” ×ª×©×•×‘×”
          </button>
        </div>

        <div class="feedback" id="feedbackBox"></div>

        <div class="shortcut-row">
          ×›×“×™ ×œ×‘×“×•×§ ××•×œ ×”×¦××˜ ×”×©×ª××© ×‘×¤×•×¨××˜
          <code>×§×•×“ - ×ª×™××•×¨</code>
          ×œ×“×•×’××”:
        </div>

        <div class="prompt-box">
          <div>×”××¢×¨×›×ª ×›×‘×¨ ××›×™×¨×” ××ª ×”×§×•×“×™× ×©×œ×š. ××ª×” ×©×•×œ×— ×¨×§ ××ª ×”×©×•×¨×” ×”×–××ª:</div>
          <code id="chatPromptExample">
107 - ××” ×©×”××•×¢×Ÿ ×× ×¡×” ×œ×”×¢×‘×™×¨ ×œ× ××¢×Ÿ
          </code>
          <div style="margin-top: 4px;">
            ×”×¦××˜ ××—×–×™×¨ ××—×“ ××©×œ×•×©×”:
            × ×›×•×Ÿ - 5 × ×§×•×“×•×ª +  
            × ×›×•×Ÿ ×—×œ×§×™×ª - 3 × ×§×•×“×•×ª + ×¢× ×”×¡×‘×¨  
            ×˜×¢×•×ª - -10 × ×§×•×“×•×ª ×¢× ×”×¡×‘×¨  
            ××—×¨×™ ×”×ª×©×•×‘×” ×©×œ ×”×¦××˜ ××ª×” ××¡××Ÿ ×›××Ÿ ×‘×¦×“ ×™××™×Ÿ ×‘××—×“ ×”×›×¤×ª×•×¨×™×.
          </div>
        </div>

        <div class="small-label" style="margin-top: 10px;">× ×™×”×•×œ × ×§×•×“×•×ª ×•×¡×˜×˜×•×¡ ××©×—×§</div>
        <div class="row">
          <button class="btn ghost small" type="button" id="resetCurrent">
            ××™×¤×•×¡ ××•×©×’ × ×•×›×—×™
          </button>
          <button class="btn ghost small" type="button" id="resetAll">
            ××™×¤×•×¡ ×›×œ ×”× ×ª×•× ×™× ×‘××›×©×™×¨
          </button>
        </div>

        <p class="note">
          ×›×œ ×”× ×§×•×“×•×ª, ××¡×¤×¨ ×”×©××œ×•×ª ×•× ×ª×•× ×™ MASTERED × ×©××¨×™× ××§×•××™×ª ×‘ localStorage ×‘××›×©×™×¨ ×•×‘×“×¤×“×¤×Ÿ ×”× ×•×›×—×™ ×‘×œ×‘×“.
        </p>
      </section>
    </div>
  </div>

  <!-- ×§×‘×¦×™ ×”× ×ª×•× ×™× ×•×”××©×—×§ -->
  <script src="data.js"></script>
  <script src="game.js"></script>
</body>
</html>
